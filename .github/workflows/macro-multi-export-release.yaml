name: Macro Multi Export Release

on:
  push:
    tags:
      - 'macro-multi-export-v*'
  workflow_dispatch:
  workflow_call:

concurrency:
  group: ${{ github.workflow }}-${{ github.ref }}
  cancel-in-progress: true

jobs:
  release:
    uses: ./.github/workflows/macro-release-reusable.yaml
    with:
      tag_prefix: 'macro-multi-export-v'
      macro_dir: 'Multi_Export'
      macro_file: 'MultiExport.FCMacro'
      macro_name: 'Multi Export'
      archive_name: 'MultiExport'
      readme_file: 'README-MultiExport.md'
      wiki_url: 'https://wiki.freecad.org/Macro_Multi_Export'
      description: |
        A FreeCAD macro that exports selected bodies to multiple file formats simultaneously with a user-friendly dialog.

        **Features:**
        - Export to STL, STEP, 3MF, OBJ, IGES, BREP, PLY, and AMF formats
        - Batch export multiple objects at once
        - Configurable mesh quality settings (tolerance and deflection)
        - Real-time file preview before export
        - Remember last-used export directory
    permissions:
      contents: write
